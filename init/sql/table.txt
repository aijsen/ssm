
CREATE TABLE u_permission (
  id NUMBER(20) NOT NULL,
  url varchar(256) DEFAULT NULL,
  name varchar(64) DEFAULT NULL,
  PRIMARY KEY (id)
) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;
  
  
CREATE TABLE u_role (
  id NUMBER(20) NOT NULL ,
  name varchar(32) DEFAULT NULL,
  type varchar(10) DEFAULT NULL,
  PRIMARY KEY (id)
)SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;


CREATE TABLE u_role_permission (
  rid NUMBER(20) DEFAULT NULL  ,
  pid NUMBER(20) DEFAULT NULL  
)SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;



CREATE TABLE u_user (
  id NUMBER(20) NOT NULL,
  nickname varchar(20) DEFAULT NULL ,
  email varchar(128) DEFAULT NULL ,
  pswd varchar(32) DEFAULT NULL ,
  create_time TIMESTAMP DEFAULT   CURRENT_TIMESTAMP,
  last_login_time TIMESTAMP DEFAULT  CURRENT_TIMESTAMP,
  status NUMBER(1) DEFAULT '1'  ,
  PRIMARY KEY (id)
) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;
  
 

drop table u_user_role;
CREATE TABLE u_user_role(
  "UID" NUMBER(20) DEFAULT 0,
  rid NUMBER(20) DEFAULT 0  
)SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;
  
 
 
 
 

 CREATE TABLE TPSS_INTERFACE.orders
 (	
	id NUMBER(12,0) primary key,
	product_id NUMBER(12,0) NOT NULL ,
	create_time DATE default CURRENT_TIMESTAMP ,
	pnum int  default 0
  ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;
 
 
 
  CREATE TABLE TPSS_INTERFACE.product
 (	
  id NUMBER(12,0) primary key,
  name VARCHAR2(50 BYTE) NOT NULL,
  psize int  default 0
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "TB_TPSS_DATA" ;